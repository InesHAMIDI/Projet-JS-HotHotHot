<!DOCTYPE html>
<html lang="fr">
	<head>
		<title>HotHotHot project</title>
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="autor" content="DERRIVES angèle - GROSJEAN Florian - HAMIDI Inès - HASPEKIAN Yvan"/>
		<meta name="description" content="project HotHotHot"/>
		<meta name="keywords" content="HTML, CSS, javascript, projet, étudiants, aix, aix-en-provence, informatique, iut, dut, stagiaire, web, web dev, développement web, developpement web">
		<meta name="date" content="2022-02-25"/>
		<link id="Style" rel="stylesheet" href="style.css">
        <link rel="manifest" href="manifest.webmanifest">
        <script defer src="app.js"></script>
		<!-- <link rel="icon" href="assets/favicon.ico"/>  -->
		<script src="https://kit.fontawesome.com/4823553caa.js" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"></script>
	</head>

	<body>
		<nav>
        	<aside id="leftNav">
            	<div id="icon"><a href="#debut" onclick="closeLeftNav()" title="accueil"><i class="fas fa-home"></i></a></div>
        	    <div id="icon"><a href="doc.html" onclick="closeLeftNav()" title="documentation"><i class="fa fa-users"></i></a></div>
				<div id="icon"><a href="https://github.com/InesHAMIDI/Projet-JS-HotHotHot" target="_blank" onclick="closeLeftNav()" title="github"><i class="fab fa-github"></i></a></div>
				
                <br>
			</aside>
    	</nav> 

		<div id="sensors"></div>
        <canvas id="graph"></canvas>

        <script src="scripts/Sensor.js"></script>
        <script src="scripts/SensorData.js"></script>
        <script src="graph.js"></script>

        <script>
		var button = document.getElementById("notifications");
		button.addEventListener('click', function(e) {
			Notification.requestPermission().then(function(result) {
				if(result === 'granted') {
					TempNotification();
				}
			});
		});
		var msg;
		function TempNotification(sensors){
			if (sensors.location === "interieur" && sensors.getTodayData() > 35){
				msg = "HotHotHot !";
			}
		}


		function Notif(msg) {
    		var notifTitle = $msg;
    		var notifBody = "notifBody";
    		var notifImg = "";
    		var options = {
        		body: notifBody,
        		icon: notifImg
    		}
    	var notif = new Notification(notifTitle, options);
    	setTimeout(Notif, 30000);
		}

		</script>
    </body>
</html>
